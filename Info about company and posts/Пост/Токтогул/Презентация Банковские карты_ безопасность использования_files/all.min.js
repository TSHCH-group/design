var aa_user_balance=0,aa_ext_dwnld_url=null,aa_ext_dwnld_timer=null;function validatePhone(a){var e=a.value,t=/[^0-9+()-]/;t.test(e)&&(e=e.replace(t,""),a.value=e)}function moveToAnchor(a){var e=jQuery("a[name = "+a+"]").eq(0),t=150;window.innerWidth<900&&(t=10);var o=e.offset().top-t;return jQuery("body,html").animate({scrollTop:o},800),!1}function moveToAnchorDiv(a,e){var t=jQuery(a),o=jQuery(e),r=t.offset().top-o.offset().top+o.scrollTop();return o.animate({scrollTop:r},200),!1}function aa_filterDoc(a){var e=jQuery(".a-sort-1 a.aa-filter-bg").eq(0),t=jQuery(".a-sort-2 a.aa-filter-bk").eq(0),o=jQuery(a);if(null!=o.data("aa-type")?e=o:null!=o.data("aa-class")&&(t=o),null==e&&null==t)return!1;jQuery(".a-sort-1 a").removeClass("aa-filter-bg"),jQuery(".a-sort-2 a").removeClass("aa-filter-bk"),e.addClass("aa-filter-bg"),t.addClass("aa-filter-bk");var r={data:{type:e.data("aa-type")}};return r.data.class=t.data("aa-class"),jQuery.fn.yiiListView.update("ajaxListView",r),!1}var aa_loaded=[],aa_count=[],inSiteUrl="",iframeUrl="",partTitle="",partUrl="",loaderUrl="",aa_speed=800,aa_scroll=!1,olp_is_new=!1;function aa_checkLoaded(a){aa_count[a]==aa_loaded[a]&&(jQuery("#slideshow-"+a+" .slide").first().remove(),jQuery("#slideshow-"+a+" .slide").first().addClass("show"))}function aa_preloadSlides(t){aa_loaded[t]=0,jQuery("#slideshow-"+t+" .slide_image").each(function(a){if(!a)return!0;var e=new Image;e.aaDataSrc=this,e.onload=function(a){jQuery(this.aaDataSrc).attr("src",this.src),aa_loaded[t]++,aa_checkLoaded(t)},e.onerror=function(a){jQuery(this.aaDataSrc).attr("src",loaderUrl),aa_loaded[t]++,aa_checkLoaded(t)},e.onabort=function(a){jQuery(this.aaDataSrc).attr("src",loaderUrl),aa_loaded[t]++,aa_checkLoaded(t)},e.src=this.src})}function aa_changeSlide(a,e,t){e.addClass("show"),a.removeClass("show"),jQuery("#slideshow-slide-"+t).text(jQuery("#slideshow-"+t+" .slide").index(e)+1)}function aa_nextSlide(a){var e=jQuery("#slideshow-"+a+" .slide.show"),t=e.next(".slide");return changeSpanToImg(t),t.length||(t=jQuery("#slideshow-"+a+" .slide").first()),aa_changeSlide(e,t,a),!1}function aa_prevSlide(a){var e=jQuery("#slideshow-"+a+" .slide.show"),t=e.prev(".slide");return changeSpanToImg(t),t.length||(t=jQuery("#slideshow-"+a+" .slide").last()),aa_changeSlide(e,t,a),!1}function aa_firstSlide(a){var e=jQuery("#slideshow-"+a+" .slide.show"),t=jQuery("#slideshow-"+a+" .slide").first();return changeSpanToImg(t),jQuery("#slideshow-"+a+" .slide").index(e)==jQuery("#slideshow-"+a+" .slide").index(t)||aa_changeSlide(e,t,a),!1}function aa_lastSlide(a){var e=jQuery("#slideshow-"+a+" .slide.show"),t=jQuery("#slideshow-"+a+" .slide").last();return changeSpanToImg(t),jQuery("#slideshow-"+a+" .slide").index(e)==jQuery("#slideshow-"+a+" .slide").index(t)||aa_changeSlide(e,t,a),!1}function changeSpanToImg(a){var e=a.find("span").data();e&&e.src&&a.html("<img src='"+e.src+"' alt='"+e.alt+"' title='"+e.title+"' />")}function aa_scrollTop(a){var e=jQuery("#aa-scroll-"+a),t=e.scrollTop(),o=e.height();return e.is(":animated")?(aa_speed/=2,o*=4):aa_speed=800,e.stop().animate({scrollTop:t-o},aa_speed),!1}function aa_scrollBottom(a){var e=jQuery("#aa-scroll-"+a),t=e.scrollTop(),o=e.height();return e.is(":animated")?(aa_speed/=2,o*=4):aa_speed=800,e.stop().animate({scrollTop:t+o},aa_speed),!1}function dr_menuCabinetToggle(){$(".dr-cabinet-toggle");var e=$(".dr-cabinet-form"),t=$(".a-registration");$(t).hover(function(a){"absolute"===e.css("position")&&(a.preventDefault(),t.addClass("dr-open"),e.slideDown(0))},function(a){"absolute"===e.css("position")&&(a.preventDefault(),t.removeClass("dr-open"),e.slideUp(0))})}function dr_menuMobileToggle(a){return $("."+a).slideToggle(300),!1}function aa_init_comment(a,e){jQuery("#aa-comment").length,jQuery("#Comment_comment").length&&jQuery("#Comment_comment").redactor({buttons:["bold","italic","deleted","underline"]})}function ag_comment_init(a){jQuery("#aa-comment").aaComments(a)}function ag_comment_more_scroll(a){if(0!=$(a).scrollTop()){var e=$(a).height();if(null!==document.getElementById("aa-more-scroll")){var t=document.getElementById("aa-more-scroll").getBoundingClientRect();null!==t&&e>t.top&&0<t.top&&!ag_comment_loads&&(ag_comment_loads=!0,jQuery("#aa-comment").aaComments("more"))}}}function ag_avatar_click(a,e,t,o,r){a.target.id==e.id&&iu.dlg(a,t,o,r)}function aa_init_editor(a){jQuery(a).length&&jQuery(a).redactor({buttons:["formatting","bold","italic","deleted","underline","unorderedlist","orderedlist","alignment"],minHeight:300,maxHeight:800,linkSize:256,lang:"ru"})}function aa_init_upload(a,e,i){if(void 0===jQuery(a).data("ajax-form")){var t=null;void 0!==arguments[3]&&(t=arguments[3]);var o=!1;void 0!==arguments[4]&&(o=arguments[4]);var n=null;void 0!==arguments[5]&&(n=arguments[5]),jQuery(a).ajaxForm({url:e,xhrFields:{withCredentials:o},dataType:"json",error:function(){jQuery("#aa-"+i+"-act input[type=file]").val(""),iu.popup.error("Размер прикрепленного Вами файла слишком большой, попробуйте сократить его или разбить на части."),jQuery("#aa-"+i+"-act").fadeIn(300),jQuery("#aa-"+i+"-prg").slideUp(300),jQuery("#aa-"+i+"-wht").length&&jQuery("#aa-"+i+"-wht").fadeOut(300)},beforeSubmit:function(a,e,t){jQuery("#aa-"+i+"-prg .bar").width("0"),jQuery("#aa-"+i+"-prg .percent").html("0"),jQuery("#aa-"+i+"-act").fadeOut(300),jQuery("#aa-"+i+"-prg").slideDown(300),jQuery("#aa-"+i+"-wht").length&&jQuery("#aa-"+i+"-wht").fadeOut(300)},uploadProgress:function(a,e,t,o){if(n&&n(o),jQuery("#aa-"+i+"-wht").length&&90<o)jQuery("#aa-"+i+"-prg").slideUp(300),jQuery("#aa-"+i+"-wht").fadeIn(300);else{var r=o+"%";jQuery("#aa-"+i+"-prg .bar").width(r),jQuery("#aa-"+i+"-prg .percent").html(r)}},success:function(a){jQuery("#aa-"+i+"-act input[type=file]").val(""),null!=a.error?iu.popup.error(a.error):"function"==typeof t&&t(a),jQuery("#aa-"+i+"-act").fadeIn(300),jQuery("#aa-"+i+"-prg").slideUp(300),jQuery("#aa-"+i+"-wht").length&&jQuery("#aa-"+i+"-wht").fadeOut(300)}})}jQuery(a).submit(),jQuery(a).ajaxFormUnbind()}function aa_init_upload_multi(a,e,t,o,r){jQuery.ajax({mimeType:"multipart/form-data",contentType:!1,cache:!1,processData:!1,type:"POST",url:e,data:o,xhrFields:{withCredentials:!0},error:function(){r(null)},success:function(a){null!=a.error?iu.popup.error(a.error):"function"==typeof r&&r(a)}})}function aa_up_balance(a){return iu.ajax(a,"/backOffice/ajaxUpBalance","#aa-pre-payment-form",function(a){void 0!==a.data&&(jQuery("body").append(a.data),jQuery("#aa-payment-form").submit())}),!1}function aa_prod_pay(a){return iu.ajax(a,"/product/ajaxOrderStepEPay","#aa-product-step2-form",function(a){void 0!==a.data&&(jQuery("body").append(a.data),jQuery("#aa-payment-form").submit())}),!1}function aa_prod_pay_fast(a,e,t){return iu.ajax(a,"/product/ajaxOrderStepEPayFast",{id:e,ref:t},function(a){void 0!==a.data&&(jQuery("body").append(a.data),jQuery("#aa-payment-form").submit())}),!1}function aa_pay_rk(a,e){var t={};return void 0!==arguments[2]&&(t=arguments[2]),iu.ajax(a,e,t,function(a){void 0!==a.data&&(jQuery("body").append(a.data),jQuery("#aa-payment-form").submit())}),!1}function aa_del_avatar(){return jQuery("#aa-editAvatar-act").fadeOut(300),jQuery("#aa-editAvatar-wht").fadeIn(300),jQuery("#aa-editAvatar-prg").slideUp(300),iu.ajax(null,"/ajax/delAvatar",{},function(a){void 0!==a.data&&(jQuery("#aa-avatar").attr("src",a.data.src),a.data.avatar||jQuery("#d-x").css("display","none")),jQuery("#aa-editAvatar-act").fadeIn(300),jQuery("#aa-editAvatar-wht").fadeOut(300),jQuery("#aa-editAvatar-prg").slideUp(300)}),!1}function aa_set_avatar(a){return iu.ajax(null,"/ajax/setAvatar",{id:a},function(a){void 0!==a.data&&(jQuery("#aa-avatar").attr("src",a.data.src),jQuery("#d-x").css("display","inline"))}),!1}function aa_del_image(a,e){var t=!0;if(void 0!==arguments[2]&&(t=arguments[2]),!t)return jQuery("#aa-add-image-form [data-id="+e+"]").hide(),jQuery(".aa-photo[data-id="+e+"]").hide(),iu.dlg.hide(),iu.ajax(a,"/ajax/delImage",{id:e},function(a){void 0!==a.error?(jQuery("#aa-add-image-form [data-id="+e+"]").show(),jQuery(".aa-photo[data-id="+e+"]").show()):(jQuery("#aa-add-image-form [data-id="+e+"]").remove(),jQuery(".aa-photo[data-id="+e+"]").remove())}),5<=jQuery("#aa-add-image-form div[data-id]").length?jQuery("#ag-add-image-form-submit").show():jQuery("#ag-add-image-form-submit").hide(),!1;iu.dlg.confirm(a,"Удалить фотографию","Вы уверены что хотите удалить эту фотографию?",function(){aa_del_image(a,e,!1)})}function aa_rotate_image(a,r,e){jQuery("img.aa-photo-src-b[data-id="+r+"]").addClass("aa-load1"),jQuery("img.aa-photo-src-m[data-id="+r+"]").addClass("aa-load1"),jQuery("img.aa-photo-src-s[data-id="+r+"]").addClass("aa-load1"),iu.ajax(a,"/ajax/rotateImage",{id:r,d:e},function(e){if(void 0!==e.img){var a=new Image;a.onload=function(a){jQuery("img.aa-photo-src-b[data-id="+r+"]").attr("src",e.img.b),jQuery("img.aa-photo-src-b[data-id="+r+"]").removeClass("aa-load1")},a.src=e.img.b;var t=new Image;t.onload=function(a){jQuery("img.aa-photo-src-m[data-id="+r+"]").attr("src",e.img.m),jQuery("img.aa-photo-src-m[data-id="+r+"]").removeClass("aa-load1")},t.src=e.img.m;var o=new Image;o.onload=function(a){jQuery("img.aa-photo-src-s[data-id="+r+"]").attr("src",e.img.s),jQuery("img.aa-photo-src-s[data-id="+r+"]").removeClass("aa-load1")},o.src=e.img.s}})}function aa_del_album(a,e){var t=!0,o=0;if(void 0!==arguments[2]&&(o=arguments[2]),void 0!==arguments[3]&&(t=arguments[3]),!t)return jQuery(".aa-album[data-id="+e+"]").hide(),iu.ajax(a,"/ajax/delAlbum",{id:e,redirect:o},function(a){void 0!==a.error?jQuery(".aa-album[data-id="+e+"]").show():jQuery(".aa-album[data-id="+e+"]").remove()}),!1;iu.dlg.confirm(a,"Удалить альбом","Вы уверены что хотите удалить этот альбом?",function(){aa_del_album(a,e,o,!1)})}function aa_del_blog(a,e){var t=!0,o=0;if(void 0!==arguments[2]&&(o=arguments[2]),void 0!==arguments[3]&&(t=arguments[3]),!t)return jQuery(".aa-blog[data-id="+e+"]").hide(),iu.ajax(a,"/ajax/delBlog",{id:e,redirect:o},function(a){void 0!==a.error?jQuery(".aa-blog[data-id="+e+"]").show():jQuery(".aa-blog[data-id="+e+"]").remove()}),location.reload(),!1;iu.dlg.confirm(a,"Удалить запись в блоге","Вы уверены что хотите удалить эту запись в блоге?",function(){aa_del_blog(a,e,o,!1)})}function aa_del_progress(a,e){var t=!0;if(void 0!==arguments[2]&&(t=arguments[2]),!t)return iu.ajax(a,"/ajax/delProgress",{id:e}),!1;iu.dlg.confirm(a,"Удалить запись в достижениях","Вы уверены что хотите удалить эту запись о достижении?",function(){aa_del_progress(a,e,!1)})}function aa_del_page(a,e){var t=!0;if(void 0!==arguments[2]&&(t=arguments[2]),!t)return iu.ajax(a,"/ajax/delPage",{id:e}),!1;iu.dlg.confirm(a,"Удалить статическую страницу","Вы уверены что хотите удалить эту статическую страницу?",function(){aa_del_page(a,e,!1)})}function aa_del_user(a){var e=!0;if(void 0!==arguments[1]&&(e=arguments[1]),!e)return $("#delete-user-form").submit(),!1;iu.dlg.confirm(a,"Отправить запрос на удаление сайта","<b>Внимание!</b><br /><br />Это действие необратимо!<br />Вы уверены, что хотите удалить свой сайт?",function(){aa_del_user(a,!1)})}function aa_add_friend(e){return jQuery(".aa-friend[data-id="+e+"]").html('<a class="st-button st-gray dg-display-b" href="javascript:;" onclick="aa_del_friend('+e+');">Удалить из друзей</a>'),iu.ajax(null,"/ajax/addFriend",{id:e},function(a){void 0!==a.error&&jQuery(".aa-friend[data-id="+e+"]").html('<a href="javascript:;" class="st-button st-green dg-display-b" onclick="aa_add_friend('+e+');">Добавить в друзья</a>')}),!1}function aa_del_friend(e){return jQuery(".aa-friend[data-id="+e+"]").html('<a href="javascript:;" class="st-button st-green dg-display-b" onclick="aa_add_friend('+e+');">Добавить в друзья</a>'),iu.ajax(null,"/ajax/delFriend",{id:e},function(a){void 0!==a.error&&jQuery(".aa-friend[data-id="+e+"]").html('<a class="st-button st-gray dg-display-b" href="javascript:;" onclick="aa_del_friend('+e+');">Удалить из друзей</a>')}),!1}function aa_pe_add_part(){return iu.ajax(null,"/ajax/peAddPart","#aa-pe-part-form",function(a){void 0!==a.data&&(jQuery("#aa-up-parts").append(a.data.html),jQuery("#aa-up-parts").sortable("destroy"),jQuery("#aa-up-parts").sortable({delay:"300",update:aa_pe_sort,axis:"y",handle:".a-peremestyt",scroll:!0}))}),!1}function ag_confirm_pay(a,e){return void 0!==arguments[2]&&(id=arguments[2]),void 0!==arguments[3]&&(ref=arguments[3]),void 0!==arguments[4]&&arguments[4],aa_prod_pay_fast(a,id,ref),!1}function aa_pe_del_part_item(a){var e=jQuery("#UserPagePart_body").val(),t=e.split(",");e="";for(var o=0;o<t.length;o++)t[o]!=a&&(e&&(e+=","),e+=t[o]);jQuery("#UserPagePart_body").val(e),jQuery("#aa-page-part-items [data-id="+a+"]").remove()}function aa_progress_file_del(){jQuery("#UserProgress_file").val(""),jQuery("#aa-progress-file").hide(),jQuery("#aa-progress-file-items").html(""),jQuery("#aa-progress-addFile").show()}function aa_pe_del(a,e){var t=!0;if(void 0!==arguments[2]&&(t=arguments[2]),t)iu.dlg.confirm(a,"Удалить текстовый блок","Вы уверены что хотите удалить этот текстовый блок?",function(){aa_pe_del(a,e,!1)});else{var o=jQuery("#aa-up-parts").data("page");jQuery("#aa-up-parts [data-part=aa-part-"+e+"]").hide(),iu.ajax(a,"/ajax/peDel",{page:o,part:e},function(a){void 0!==a.error?jQuery("#aa-up-parts [data-part=aa-part-"+e+"]").show():(jQuery("#aa-up-parts [data-part=aa-part-"+e+"]").remove(),3<=jQuery("#aa-up-parts>div").length?jQuery(".aa-pe-save-btn").show():jQuery(".aa-pe-save-btn").hide()),jQuery("#aa-up-parts").sortable("destroy"),jQuery("#aa-up-parts").sortable({delay:"300",update:aa_pe_sort,axis:"y",handle:".a-peremestyt",scroll:!0})})}}function aa_pe_sort(){var a=jQuery("#aa-up-parts").data("page"),e=jQuery("#aa-up-parts").sortable("serialize",{key:"part[]",attribute:"data-part"});iu.ajax(null,"/ajax/peSort","page="+a+"&"+e)}function aa_char_counter(){var a;void 0!==arguments[0]&&(a=arguments[0]),jQuery("#aa-counter").text(a.characters)}function aa_char_counter_plain(a){var e=0,t=0,o=0,r=a.value.replace(/<\/(.*?)>/gi," ");if(r=(r=(r=(r=r.replace(/<(.*?)>/gi,"")).replace(/\t/gi,"")).replace(/\n/gi,"")).replace(/\r/gi,""),""!==(r=$.trim(r))){var i=r.split(/\s+/),n=r.match(/\s/g);i&&(e=i.length),n&&(o=n.length),t=r.length}aa_char_counter({words:e,characters:t,spaces:o})}function aa_share(a,e,t,o){if(void 0!==e&&!e.startsWith("javascript")||(e=window.location.toString()),void 0===t&&(t=document.title),void 0===o&&(o="#рекомендую_инфоурок"),void 0===a)return jQuery("#aa-share-buffer-link").hide(),void jQuery("#aa-share-buffer-input").show().select();var r="https:"===location.protocol?"https:":"http:",i={fb:{popupUrl:"https://www.facebook.com/sharer/sharer.php?u={url}&quote={comment}",popupWidth:600,popupHeight:500},tw:{popupUrl:"https://twitter.com/intent/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450},mr:{popupUrl:r+"//connect.mail.ru/share?share_url={url}&title={title}",popupWidth:550,popupHeight:360},vk:{popupUrl:r+"//vk.com/share.php?url={url}&title={title}&comment={comment}",popupWidth:550,popupHeight:330},ok:{popupUrl:r+"//connect.ok.ru/offer?url={url}",popupWidth:550,popupHeight:360}}[a],n={url:e,title:t,comment:o,hashtag:"#рекомендую_инфоурок"},l=i.popupUrl.replace(/\{([^\}]+)\}/g,function(a,e){return e in n?encodeURIComponent?encodeURIComponent(n[e]):n[e]:a}),s=Math.round(screen.width/2-i.popupWidth/2),d=0;screen.height>i.popupHeight&&(d=Math.round(screen.height/3-i.popupHeight/2));var c=window.open(l,"sl_"+a,"left="+s+",top="+d+",width="+i.popupWidth+",height="+i.popupHeight+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");return c?c.focus():location.href=l,!1}function aa_olp_order(a){var e,t;for(t in e=olp_cost_tbl[0],olp_cost_tbl){if(olp_cost_tbl[t][0]>a)break;e=olp_cost_tbl[t]}var o=!1;return void 0!==olp_cost_tbl[t]&&(o=olp_cost_tbl[t]),[e,o]}function aa_olp_calc(){var a=jQuery("#aa-olp-order-i").val(),e=aa_olp_order(a),t=e[0],o=e[1];jQuery("#aa-olp-calc-next99").html(a),jQuery("#aa-olp-calc-next-contest99").html(numerize(a,["ученика","учеников","учеников"])),jQuery("#aa-olp-order-0").html('<del style="color: red;">&nbsp;99&nbsp;</del> &nbsp;'+(t[1]+t[2]+t[3]).toString()+"&nbsp;"+olp_cost_curr),jQuery("#aa-olp-order-3").html(a+" * "+(t[1]+t[2]+t[3]).toString()+" = "+((t[1]+t[2]+t[3])*a).toString()+"&nbsp; ("+olp_cost_curr+")"),jQuery("#aa-olp-order-1").html((t[2]*a).toString()+"&nbsp;"+olp_cost_curr),jQuery("#aa-olp-order-2").html((t[1]*a).toString()+"&nbsp;"+olp_cost_curr),jQuery("#aa-olp-calc-table td").removeClass("a-big-f"),jQuery("#aa-olp-calc-table td[data-count='"+t[0]+"']").addClass("a-big-f"),$(".olympic-s19-sale").html(50*a),!1!==o&&o[0]>t[0]?(jQuery("#aa-olp-calc-next1").html(o[0]-a),jQuery("#aa-olp-calc-next-contest").html(numerize(o[0]-a,["{n} ученика","{n} учеников","{n} учеников"])),jQuery("#aa-olp-calc-next2").html(o[2]*o[0]),jQuery("#aa-olp-calc-next").show()):jQuery("#aa-olp-calc-next").hide(),2==olp_cost_tbl.length?jQuery("#aa-olp-calc-table").hide():jQuery("#aa-olp-calc-table").show()}function aa_olp_calc_pp(){var a=jQuery("#aa-olp-order-i"),e=parseInt(a.val())+1;e=e||1,a.val(e),aa_olp_calc()}function aa_olp_calc_mm(){var a=jQuery("#aa-olp-order-i"),e=parseInt(a.val())-1;(e=e||1)<=0&&(e=1),a.val(e),aa_olp_calc()}function aa_olp_pay_rk(a){jQuery("#"+a).submit()}function aa_olp_tab_activate(a,e){var t=null;void 0!==arguments[2]&&(t=arguments[2]),"function"==typeof t&&t();var o=jQuery("#"+e+' div[data-tab="'+a+'"]');if(o.length){var r=o.parent();r.find(">div>ul a").removeClass("active"),r.find('>div>ul a[data-link="'+a+'"]').addClass("active"),r.find(">ul a").removeClass("active"),r.find('>ul a[data-link="'+a+'"]').addClass("active"),r.children("div.view").hide(),o.show()}}function aa_olp_answer(a,e,t){var o=jQuery("#aa-olp-order-tab2-"+a+" table.aa-answer"),r=(parseInt(o.data("a")),parseInt(o.data("b")),"#OlpPupil_answer");void 0!==arguments[3]&&(r="#OlpPupil"+parseInt(arguments[3])+"_answer"),o.find("td[data-a="+e+"]").removeClass("a-otvet-grin"),o.find("td[data-a="+e+"][data-b="+t+"]").addClass("a-otvet-grin");var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];o.find("td.a-otvet-grin").each(function(a){var e=parseInt(jQuery(this).data("a")),t=parseInt(jQuery(this).data("b"));return i[e-1]=t,!0}),jQuery("#aa-olp-order-tab2-"+a+" "+r).val(i.join(","))}function aa_olp_clear_answer(a){var e="Внести ответы";void 0!==arguments[1]&&(e=arguments[1]);var t=jQuery("form#aa-olp-order-tab2-"+a),o=jQuery("#aa-order-"+a+"-a");new Option("Населенный пункт","");t.find(".school_id_pupil").val(null),t.find(".school_id_teacher").val(null),t.find("#OlpPupil_answer").val(null),t.find(".school_full_name").val(null),t.find(".school_id_class option:first").attr("selected","selected"),t.find("table.aa-answer td").removeClass("a-otvet-grin"),t.find(".school_full_name").prop("disabled",!1),t.find(".school_id_class").prop("disabled",!1),t.find(".school_id_school").val(null).prop("disabled",!1),t.find(".school_school").val(null).prop("disabled",!1),t.find(".aa-parent-email").hide(),t.find(".aa-clear-school").hide(),t.find(".school_teacher_name").val(null).prop("disabled",!1),parseInt(o.data("c"))?o.find("a[data-link=tab2-1]").text(e):o.find("a[data-link=tab2-1]").hide()}function aa_olp_edit_answer(a,e,t,o){var r="Изменить ответы";void 0!==arguments[4]&&(r=arguments[4]),iu.ajax(a,e,{id:o},function(a){void 0===a.error&&(jQuery("#aa-order-"+t+"-a a[data-link=tab2-1]").text(r).show(),aa_olp_tab_activate("tab2-1","aa-order-"+t+"-a"))})}function aa_olp_new_order(a,e){jQuery("#aa-olp-inp-order-dd").val(""),jQuery("#aa-olp-dyn").addClass("aa-load1"),iu.ajax(a,e,{},function(a){jQuery("#aa-olp-dyn").removeClass("aa-load1")})}function aa_olp_result(a,e,t,o){jQuery("#aa-order-"+e+"-b #aa-order-pupil-"+t+" .aa-result").length?(jQuery("#aa-order-"+e+"-b .aa-result").remove(),jQuery("#aa-order-"+e+"-b .aa-result-link").text("результаты и награды"),jQuery("#aa-order-"+e+"-b .a-open").removeClass("a-open-border")):(jQuery("#aa-order-"+e+"-b .aa-result").remove(),jQuery("#aa-order-"+e+"-b .aa-result-link").text("результаты и награды"),jQuery("#aa-order-"+e+"-b .a-open").removeClass("a-open-border"),iu.ajax(a,o,{id:t},function(a){void 0===a.error&&(jQuery("#aa-order-"+e+"-b #aa-order-pupil-"+t+" .aa-result-link").text("скрыть"),jQuery("#aa-order-"+e+"-b #aa-order-pupil-"+t).append(a.data.html),jQuery("#aa-order-"+e+"-b #aa-order-pupil-"+t).addClass("a-open-border"),moveToAnchorDiv("#aa-order-pupil-"+t,"#aa-order-"+e+"-b>div"))}))}function aa_olp_cancel_order(){jQuery("#aa-olp-dyn").html(""),jQuery("#aa-olp-inp-order-new").show()}function aa_olp_std_order_form(a,e){null!=aa_ext_dwnld_url&&(olp_is_new=!1,jQuery("#aa-dwld-timer-conteiner").hide(),location.href=aa_ext_dwnld_url,(aa_ext_dwnld_url=null)!=aa_ext_dwnld_timer&&clearInterval(aa_ext_dwnld_timer),aa_ext_dwnld_timer=null),iu.ajax(a,e,"#aa-olp-order",function(a){void 0===a.error&&(olp_is_new=!1)})}function aa_olp_std_cancel_order(){olp_is_new=!1,olp_cost_tbl=olp_cost_tbl_const,jQuery("#aa-olp-order-i").val("10"),jQuery("#aa_dd_id_olp_olympic").attr("disabled",!1).val(""),jQuery("#OlpOrder_id_olp_olympic").val(""),iu.popup("Заявка была отменена. Чтобы подать новую заявку, выберите предмет из выпадающего списка, укажите количество учеников и нажмите на кнопку «Отправить заявку»."),jQuery("#aa-link-cancel").hide(),aa_olp_calc()}function aa_olp_select_olympic(e,a){jQuery("#aa-olp-dyn-calc").addClass("aa-load1");var t=jQuery(e.target).val();parseInt(t)?iu.ajax(e,a,{id:t},function(a){void 0===a.error&&(jQuery("#OlpOrder_id_olp_olympic").val(t),jQuery(e.target).attr("disabled","disabled")),jQuery("#aa-olp-dyn-calc").removeClass("aa-load1")}):jQuery("#aa-olp-dyn-calc").html("").removeClass("aa-load1")}function aa_olp_std_select_olympic(a,e){var t=a.target||a.srcElement,o=jQuery(t).val();parseInt(o)&&(jQuery("#aa_dd_id_olp_olympic").attr("disabled",!0),jQuery("#OlpOrder_id_olp_olympic").val(o),jQuery("#aa-link-cancel").show(),iu.ajax(null,e,{id:o},function(a){void 0!==a.error||(olp_is_new=!0)}))}function aa_olp_select_order(a,e){jQuery("#aa-olp-dyn").addClass("aa-load1");var t=jQuery(a.target).val();if(parseInt(t))return iu.ajax(a,e,{id:t},function(a){jQuery("#aa-olp-dyn").removeClass("aa-load1")}),!1;jQuery("#aa-olp-dyn").html("").removeClass("aa-load1")}function aa_tooltip(a,e){jQuery(a.target);jQuery("<span class='a-tooltip' style='display: none'></span>").html(e).appendTo("body").css("top",a.pageY-10+"px").css("left",a.pageX+20+"px").fadeIn("slow")}function aa_tooltip_hide(a){jQuery(".a-tooltip").remove()}function aa_olp_order_del(a,e,t){var o=!0;if(void 0!==arguments[3]&&(o=arguments[3]),!o)return iu.ajax(a,t,{id:e,tab:"tab0"}),!1;iu.dlg.confirm(a,"Удалить заявку","Обратите внимание, что после удаления заявки Вы не сможете ее восстановить. Вы действительно хотите удалить заявку?",function(){aa_olp_order_del(a,e,t,!1)})}function aa_olp_pupil_del(a,e,t){var o=!0;if(void 0!==arguments[3]&&(o=arguments[3]),!o)return iu.ajax(a,t,{id:e}),!1;iu.dlg.confirm(a,"Удалить ученика","Внимание!<br /> Если Вы удалите данного ученика из заявки, то он больше не сможет принять участие в финальном туре олимпиад. Вы не сможете добавить данного ученика заново. Действительно удалить ученика из заявки? <br /><br />*при удалении ученика стоимость заявки пересчитается",function(){aa_olp_pupil_del(a,e,t,!1)})}function aa_olp_helper(a){var e=jQuery("#"+a);e.length&&(e.find("span").eq(0).text()?e.find("a").eq(1).html('<i class="icon icon-edit"></i>'):e.find("a").eq(1).html('<i class="a-plusss"></i>Добавить помощника'))}function aa_inline_edit(a,e){var t=tpl_olp_inline_input;void 0!==arguments[2]&&(t=arguments[2]);var o=jQuery("#"+e);if(o.length){var r=o.find("span").eq(0).text(),i=t,n=e.split("-");i=(i=(i=i.replace(/\{id\}/gi,e)).replace(/\{val\}/gi,escapeHtml(r))).replace(/\{idd\}/gi,n[2]),o.html(i)}}function aa_inline_save(a,t){var o=null,r=tpl_olp_inline_span;void 0!==arguments[2]&&(r=arguments[2]),void 0!==arguments[3]&&(o=arguments[3]);var i=jQuery("#"+t);if(i.length){var e=i.find("input").eq(0).val(),n=t.split("-");iu.ajax(a,"/ajax/inlineSave",{id:t,val:e},function(a){if(void 0!==a.data){if(void 0!==a.data.val){var e=r;e=(e=(e=e.replace(/\{id\}/gi,t)).replace(/\{val\}/gi,a.data.val)).replace(/\{idd\}/gi,n[2]),i.html(e),"function"==typeof o&&o(t)}void 0!==a.data.noEdit&&i.find("span:last").remove()}})}}function aa_in_cart(a){jQuery("#aa-out-cart>div[data-id="+a+"]").appendTo(jQuery("#aa-in-cart")).removeClass("a-dopinfo-fechka").addClass("a-info-fechka"),aa_cart_recalc()}function aa_out_cart(a){jQuery("#aa-in-cart>div[data-id="+a+"]").appendTo(jQuery("#aa-out-cart")).removeClass("a-info-fechka").addClass("a-dopinfo-fechka"),aa_cart_recalc()}function aa_cart_recalc(){var e="",t=0,o=0;jQuery("#aa-in-cart>div").each(function(a){return e&&(e+=","),e+=jQuery(this).data("id"),t+=jQuery(this).data("cost"),o+=jQuery(this).data("size"),!0}),jQuery("#ProdOrder_product_ids").val(e),jQuery("#aa-prod-sum").text(t),void 0!==aa_user_balance&&(jQuery("#aa-prod-file-size").text(formatSize(o)),aa_user_balance<t?(jQuery("#aa-prod-pay-bill-input").hide(),jQuery("#Order_payment_2").prop("checked",!1),jQuery("#Order_payment_3").prop("checked",!0)):jQuery("#aa-prod-pay-bill-input").show());var a=jQuery("#aa-out-cart>div"),r=jQuery("#aa-out-cart");a.sort(function(a,e){return parseInt(jQuery(a).data("order"))-parseInt(jQuery(e).data("order"))}),a.detach().appendTo(r),jQuery("#aa-in-cart .aa-prod-add").hide(),jQuery("#aa-in-cart .aa-prod-del").show(),jQuery("#aa-out-cart .aa-prod-add").show(),jQuery("#aa-out-cart .aa-prod-del").hide(),jQuery("#aa-out-cart>div").length?jQuery("#aa-prod-upsell").show():jQuery("#aa-prod-upsell").hide()}function aa_olp_hide_orang_li(){var a="_aa_olp_o_li";if(void 0!==arguments[0]&&(a=arguments[0]),$.cookie(a))return!0;jQuery(".aa-olp-o-li").removeClass("a-orang-blink"),$.cookie(a,1,{expires:200,path:"/"})}function d_olp_hide_orang_li(a){var e=jQuery("div#aa-order-"+a);$.cookie("d-blink-"+a,1,{expires:200,path:"/"}),e.find("li.a-orang-blink").removeClass("a-orang-blink")}function aa_timer(a,e){var t=null;void 0!==arguments[2]&&(t=arguments[2]);var o=new Date(a).getTime()/1e3,r=(new Date).getTime()/1e3,i=o-r;console.log(a,o,r,i);var n,l,s,d,c,u,p=Date.now(),f=$(e);i<=0?(i=0,"function"==typeof t&&t(e)):u=setInterval(function(){n=i-((Date.now()-p)/1e3|0),c=c=n/86400|0,d=d=n/3600%24|0,l=l=n/60%60|0,s=s=n%60|0,f.text((0<c?c+" д. ":"")+d+" ч. "+l+" м. "+s+" с."),n<=0&&(clearInterval(u),i=0,"function"==typeof t&&t(e))},1e3)}function aa_timer2(a,e){var t=null;void 0!==arguments[2]&&(t=arguments[2]);var o,r=$(e);a?aa_ext_dwnld_timer=o=setInterval(function(){a--,r.text(a),a<=0&&(clearInterval(o),aa_ext_dwnld_timer=null,"function"==typeof t&&t(e))},1e3):"function"==typeof t&&t(e)}function aa_video_flash_popup(a){jQuery(a).parent().parent().find(".popup").fadeIn(100)}function formatSize(a){for(var e=0,t=["Кб","Мб","Гб","Тб","Пб"];a/1e3|0&&e<t.length-1;)a/=1024,e++;return a.toFixed(2)+" "+t[e]}function addViewDocCnt(a){var e=jQuery(a).parent().parent().find("a.kr-button"),t=e.attr("href"),o=new RegExp("(view=0)","i");t=t.match(o)?t.replace("view=0","view=1"):t.replace("view=1","view=0"),e.attr({href:t})}function escapeHtml(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function videoLessonsMenu(a){var e,t,o,r=$(a.target);if("a"!==r[0].tagName.toLowerCase())return!1;if((e=r.parent().find("> ul")).length)if(t=$(".dr-cat-less > li"),r.parent().hasClass("dr-active"))r.parent().toggleClass("dr-active"),e.find("li").toggle(250);else{for(var i=0;i<t.length;i++)$(t[i]).hasClass("dr-active")&&($(t[i]).find("> ul li").fadeOut(100),$(t[i]).removeClass("dr-active"));o=setTimeout(function(){r.parent().toggleClass("dr-active"),e.find("li").toggle(250),clearTimeout(o)},100)}return!1}function videoLessonsMenuToggle(){$(".dr-cat-less").toggleClass("dr-show")}function ag_char_counter_plain(a,e){var t=0,o=0,r=0,i=a.value.replace(/<\/(.*?)>/gi," ");if(i=(i=(i=(i=i.replace(/<(.*?)>/gi,"")).replace(/\t/gi,"")).replace(/\n/gi,"")).replace(/\r/gi,""),""!==(i=$.trim(i))){var n=i.split(/\s+/),l=i.match(/\s/g);n&&(t=n.length),l&&(r=l.length),o=i.length}return ag_char_counter_set(e,{words:t,characters:o,spaces:r},"characters"),{words:t,characters:o,spaces:r}}function ag_char_counter_set(a){var e,t;void 0!==arguments[1]&&(e=arguments[1]),void 0!==arguments[2]&&(t=arguments[2]),jQuery(a).text(e[t])}function ag_pub_an_validate(){for(var a=0,e=jQuery("#addAnnotation textarea"),t=0;t<e.length;t++){var o=parseInt(e[t].id.replace("ag-anot-","")),r=ag_char_counter_plain(e[t],"#ag-charC-"+o);500<r.characters&&(a++,jQuery("#"+e[t].id).prop("class","error"),jQuery("#ag-charC-"+o).parent().prop("class","dr-red")),r.characters<250&&(a++,jQuery("#"+e[t].id).prop("class","error"),jQuery("#ag-charC-"+o).parent().prop("class","dr-red")),r.characters<=500&&250<=r.characters&&(jQuery("#"+e[t].id).prop("class",""),jQuery("#ag-charC-"+o).parent().prop("class",""))}0<a?jQuery(".errorSummary").show().text("Описание к материалам должно быть от 250 до 500 символов"):jQuery(".errorSummary").hide().text("")}$(function(){var a=decodeURI(window.location),e=a.indexOf("#");if(0<=e){var t=a.substring(e+1);2==(t=t.split("@",2)).length&&aa_olp_tab_activate(t[0],t[1])}$(document).click(function(a){$(a.target).closest("#aa-school-global-list").length?jQuery(".d-order-full-name").html(""):$(a.target).closest(".d-order-full-name").length||$(a.target).closest(".dr-olimp-order-wrap").length?jQuery("#aa-school-global-list").remove():(jQuery("#aa-school-global-list").remove(),jQuery(".d-order-full-name").html(""),a.stopPropagation())})}),$(window).load(function(){$(".dr-videoLessons-menu .dr-active > ul li").fadeIn(0)});var aa_interval,cssFix=function(){function a(a){return-1!=e.indexOf(a)}var e=navigator.userAgent.toLowerCase();$("html").addClass([!/opera|webtv/i.test(e)&&/msie (\d)/.test(e)?"no-svg ie ie"+RegExp.$1:a("firefox/2")?"gecko ff2":a("firefox/3")?"gecko ff3":a("gecko/")?"gecko":a("opera/9")?"opera opera9":/opera (\d)/.test(e)?"opera opera"+RegExp.$1:a("konqueror")?"konqueror":a("applewebkit/")?"webkit safari":a("mozilla/")?"gecko":"",a("x11")||a("linux")?" linux":a("mac")?" mac":a("win")?" win":""].join(""))}();function setSchoolCountry(a){183==a.value?(jQuery("#d-school-region").prop("disabled","disabled"),jQuery("#d-school-region").val(""),jQuery("#d-school-city").prop("disabled","disabled"),jQuery("#d-school-city").val(""),jQuery("#d-school-school").prop("disabled","disabled"),jQuery("#d-school-school").val(""),jQuery("#d-school-school").val(""),jQuery("#d-school-region-btn").show(),jQuery("#d-school-city-btn").show(),jQuery("#d-school-school-btn").show()):(jQuery("#d-school-region").prop("disabled",!1),jQuery("#d-school-city").prop("disabled",!1),jQuery("#d-school-school").prop("disabled",!1),jQuery("#d-school-region-btn").hide(),jQuery("#d-school-city-btn").hide(),jQuery("#d-school-school-btn").hide())}function getSchoolRegion(){iu.ajax(null,"/ajax/getRegion",null,function(a){jQuery("#d-school-region-list").html(a.data)})}function getSchoolCity(){var a=jQuery("#d-school-region-id").val();iu.ajax(null,"/ajax/getCity?id_region="+a,null,function(a){jQuery("#d-school-city-list").html(a.data)})}function agPublicationSum(){var a,e,t;if(jQuery("#cost").val(),a=jQuery("#cost_printed").val(),e=jQuery("#cost_copy").val(),t=jQuery("#cost_full").val(),jQuery("#Publication_printed").prop("checked")){jQuery("#ag-printed").html("1");var o=jQuery("#Publication_printed_copies").val();o.length<1&&(o=0),jQuery("#ag-printed_copies").html(parseInt(o)),jQuery("#dopCount").html(parseInt(o));var r=parseInt(a)+parseInt(o)*parseInt(e)+parseInt(t);jQuery("#ag-publ-full-cost").html(r),jQuery(".dopcost").show()}else jQuery("#ag-printed").html("0"),jQuery(".dopcost").hide(),jQuery("#ag-publ-full-cost").html(t)}function ag_Pub_pp(){var a=jQuery("#Publication_printed_copies"),e=parseInt(a.val())+1;e=e||1,a.val(e),agPublicationSum()}function ag_Pub_mm(){var a=jQuery("#Publication_printed_copies"),e=parseInt(a.val())-1;(e=e||0)<=0&&(e=0),a.val(e),agPublicationSum()}function aa_order_get_school(i){var a=jQuery(i),e=a.find(".school_id_region").val(),t=a.find(".school_school").val();1<=t.length&&iu.ajax(null,"/konkurs/s5/getSchool",{id_region:e,school:t,c:i},function(a){if(void 0!==a.error)return jQuery(i).find(".school_school").val(""),!1;if(void 0!==a.data){var e=jQuery("#aa-school-global-list");if(!a.data.val)return void e.remove();var t=jQuery(a.data.c).find(".school_school");e.length||(e=jQuery("<span />",{id:"aa-school-global-list"}).appendTo("body"));var o=t.offset().left,r=t.offset().top+t.outerHeight();e.attr("style","position: absolute; top: "+r+"px; left: "+o+"px; "),e.html(a.data.val)}})}function aa_order_set_school(a,e,t){var o=jQuery(a);o.find(".school_id_school").val(e),o.find(".school_school").val(t).prop("readonly",!0),jQuery("#aa-school-global-list").remove(),o.find(".school_clear").show()}function aa_order_clear_school(a){var e=jQuery(a);e.find(".school_id_school").val(""),e.find(".school_school").val("").prop("readonly",!1),jQuery("#aa-school-global-list").remove(),e.find(".school_clear").hide()}function aa_order_set_full_name(a,e,t,o){var r=jQuery("form#aa-olp-order-tab2-"+a),i="";void 0!==o&&(i=o),r.find("#OlpPupil"+i+"_teacher_name").val(e),r.find(".d-order-full-name").html("")}function aa_set_region(a,e){var t=$("#Step2Form_region_id").val();iu.ajax(a,"/site/getArea",{id:t},function(a){jQuery("#aa-sel-city").show(),aa_city="",aa_setContactUrl()})}function aa_setContactUrl(a){var e=jQuery("form#aa-school-global-"+a).find(".school_id_region option:selected").text(),t=("https:"===location.protocol?"https:":"http:")+"//"+document.domain+"/site/final?co="+encodeURIComponent(e);jQuery(".aa-contact-link").attr("href",t)}function aa_setContactUrl2(a){var e=jQuery("form#aa-olp-order-tab2-"+a).find(".school_id_region option:selected").text(),t=("https:"===location.protocol?"https:":"http:")+"//"+document.domain+"/site/final?co="+encodeURIComponent(e);jQuery(".aa-contact-link").attr("href",t)}function dr_olimp_pupil_show_results(a){for(var e=$(a.target),t=$(a.target),o=0;"body"!==e[0].tagName.toLowerCase()&&!(e=e.parent()).hasClass("dr-olimp-results"););for(;"body"!==t[0].tagName.toLowerCase()&&!(t=t.parent()).hasClass("a-olympic"););if((e=e.find(".dr-pupil-answers")).hasClass("open"))return e.removeClass("open").slideUp(),!1;for(t=t.find(".dr-pupil-answers"),o=0;o<t.length;o++)$(t[o]).removeClass("open").slideUp();e.addClass("open").slideDown()}function drPushGlobal(){$("#dr-push-global-wrap").slideUp()}function dSchoolTitle(a){var e=jQuery(a),t=e.find(".school_school").val();return t&&e.find(".d-title").html(t),!1}function ag_kurs_order_del(a,e,t){var o=!0;if(void 0!==arguments[3]&&(o=arguments[3]),!o)return iu.ajax(a,t,{id:e}),!1;iu.dlg.confirm(a,"Удалить заявку","Обратите внимание, что после удаления заявки Вы не сможете ее восстановить. Вы действительно хотите удалить заявку на курсы?",function(){ag_kurs_order_del(a,e,t,!1)})}function ag_camp_order_del(a,e,t){var o=!0;if(void 0!==arguments[3]&&(o=arguments[3]),!o)return iu.ajax(a,t,{id:e}),!1;iu.dlg.confirm(a,"Удалить заявку","Обратите внимание, что после удаления заявки Вы не сможете ее восстановить. Вы действительно хотите удалить заявку?",function(){ag_camp_order_del(a,e,t,!1)})}function ag_camp_region_get(a,e){if(0<parseInt(e)){var t="/camp/GetMyRegion/"+e;jQuery("#CampsShifts_region").attr("disabled",!0).addClass("a-load-button").empty(),iu.ajax(null,t,{})}else jQuery("#CampsShifts_region").empty()}function d_loadFile_kurs(a){aa_init_upload("#aa-"+a+"-form",d_loadFile_url+"/upload.html",a,function(a){console.log(a)})}function course_column_cng(a,e){var t=$("#"+a);if(t.length){var o=t.find("strong").eq(0).text(),r=e,i=a.split("-");r=(r=(r=r.replace(/\{id\}/gi,a)).replace(/\{val\}/gi,escapeHtml(o))).replace(/\{idd\}/gi,i[2]),t.html(r)}}function course_work_title_save(a,t,o){var r=null;void 0!==arguments[3]&&(r=arguments[3]);var i=$("#"+t);if(i.length){var e=i.find("input").eq(0).val().trim(),n=t.split("-");e.length<1?iu.popup("поле не должно быть пустым"):iu.ajax(a,"/backOffice/cngWorkTitle",{id:t,val:e},function(a){if(void 0!==a.data&&void 0!==a.data.val){var e=o;e=(e=(e=e.replace(/\{id\}/gi,t)).replace(/\{val\}/gi,a.data.val)).replace(/\{idd\}/gi,n[2]),i.html(e),"function"==typeof r&&r(t)}})}}function course_work_place_save(a,t,o){var r=null;void 0!==arguments[3]&&(r=arguments[3]);var i=$("#"+t);if(i.length){var e=i.find("input").eq(0).val().trim(),n=t.split("-");e.length<1?iu.popup("поле не должно быть пустым"):iu.ajax(a,"/backOffice/cngWorkPlace",{id:t,val:e},function(a){if(void 0!==a.data&&void 0!==a.data.val){var e=o;e=(e=(e=e.replace(/\{id\}/gi,t)).replace(/\{val\}/gi,a.data.val)).replace(/\{idd\}/gi,n[2]),i.html(e),"function"==typeof r&&r(t)}})}}function d_postitem_cng(a,e,t){var o=jQuery("#"+e);if(o.length){var r=o.find("span").eq(0).text(),i=t,n=e.split("-");i=(i=(i=i.replace(/\{id\}/gi,e)).replace(/\{val\}/gi,escapeHtml(r))).replace(/\{idd\}/gi,n[2]),o.html(i)}}function d_address_cng(a,e,t){var o=jQuery("#"+e);if(o.length){var r=o.find(".d-region").text(),i=o.find(".d-postindex").text(),n=o.find(".d-city").text(),l=o.find(".d-street").text(),s=o.find(".d-house").text(),d=o.find(".d-korpus").text(),c=o.find(".d-flat").text();s=s.replace("д. ",""),d=d.replace("к. ",""),c=c.replace("кв. ","");var u=t,p=e.split("-");u=(u=(u=(u=(u=(u=(u=(u=(u=u.replace(/\{id\}/gi,e)).replace(/\{region\}/gi,escapeHtml(r))).replace(/\{index\}/gi,escapeHtml(i))).replace(/\{city\}/gi,escapeHtml(n))).replace(/\{street\}/gi,escapeHtml(l))).replace(/\{house\}/gi,escapeHtml(s))).replace(/\{korpus\}/gi,escapeHtml(d))).replace(/\{flat\}/gi,escapeHtml(c))).replace(/\{idd\}/gi,p[2]),o.html(u)}}function d_name_d_cng(a,e,t){var o=jQuery("#"+e);if(o.length){var r=o.find("strong").eq(0).text(),i=t,n=e.split("-");i=(i=(i=i.replace(/\{id\}/gi,e)).replace(/\{val\}/gi,escapeHtml(r))).replace(/\{idd\}/gi,n[2]),o.html(i)}}function d_uo_cng(a,e,t){var o=jQuery("#"+e);if(o.length){var r=o.find("span").eq(0).text(),i=t,n=e.split("-");i=(i=(i=i.replace(/\{id\}/gi,e)).replace(/\{val\}/gi,escapeHtml(r))).replace(/\{idd\}/gi,n[2]),o.html(i)}}function d_postitem_save(a,t,o){var r=null;void 0!==arguments[3]&&(r=arguments[3]);var i=jQuery("#"+t);if(i.length){var e=i.find("input").eq(0).val().trim(),n=t.split("-");e.length<1?iu.popup("поле не должно быть пустым"):iu.ajax(a,"/backOffice/cngPostalItem",{id:t,val:e},function(a){if(void 0!==a.data){if(void 0!==a.data.val){var e=o;e=(e=(e=e.replace(/\{id\}/gi,t)).replace(/\{val\}/gi,a.data.val)).replace(/\{idd\}/gi,n[2]),i.html(e),"function"==typeof r&&r(t)}void 0!==a.data.noEdit&&i.find("span:last").remove()}})}}function d_uoitem_save(a,t,o){var r=null;void 0!==arguments[3]&&(r=arguments[3]);var i=jQuery("#"+t);if(i.length){var e=i.find("input").eq(0).val(),n=t.split("-");iu.ajax(a,"/kursyTested/cngUo",{id:t,uo:e},function(a){if(void 0!==a.data){if(void 0!==a.data.val){var e=o;e=(e=(e=e.replace(/\{id\}/gi,t)).replace(/\{val\}/gi,a.data.val)).replace(/\{idd\}/gi,n[2]),i.html(e),"function"==typeof r&&r(t)}void 0!==a.data.noEdit&&i.find("span:last").remove()}})}}function d_address_save(a,t,o){var r=null;void 0!==arguments[3]&&(r=arguments[3]);var i=jQuery("#"+t);if(i.length){var e=i.find("[name=region]").val(),n=i.find("[name=postindex]").val(),l=i.find("[name=city]").val(),s=i.find("[name=street]").val(),d=i.find("[name=house]").val(),c=i.find("[name=korpus]").val(),u=i.find("[name=flat]").val(),p=t.split("-");iu.ajax(a,"/backOffice/cngAddress",{id:t,region:e,index:n,city:l,street:s,house:d,korpus:c,flat:u},function(a){if(void 0!==a.data){var e=o;e=(e=(e=e.replace(/\{id\}/gi,t)).replace(/\{address\}/gi,a.data.address)).replace(/\{idd\}/gi,p[2]),i.html(e),"function"==typeof r&&r(t),iu.popup("Адрес сохранен!")}})}}function d_nameitem_d_save(a,t,o){var r=null;void 0!==arguments[3]&&(r=arguments[3]);var i=jQuery("#"+t);if(i.length){var e=i.find("input").eq(0).val(),n=t.split("-");iu.ajax(a,"/backOffice/cngNameD",{id:t,val:e},function(a){if(void 0!==a.data){if(void 0!==a.data.val){var e=o;e=(e=(e=e.replace(/\{id\}/gi,t)).replace(/\{val\}/gi,a.data.val)).replace(/\{idd\}/gi,n[2]),i.html(e),"function"==typeof r&&r(t),iu.popup("ФИО сохранено!")}void 0!==a.data.noEdit&&i.find("span:last").remove()}})}}function aa_tutor_filter_range(a,e){a=jQuery(a);var t=jQuery("#aa-filter-lo-"+e).val(),o=jQuery("#aa-filter-hi-"+e).val();if(t=parseInt(t),o=(o=parseInt(o))||0,!(t=t||0)&&!o)return iu.popup.error("Необходимо указать диапазон"),!1;o<t&&(o=0,jQuery("#aa-filter-hi-"+e).val(""));var r=a.attr("href");return r=(r=r.replace(/xhax/gi,t)).replace(/xhox/gi,o),a.attr("href",r),!0}function d_timer(a,e){void 0!==aa_interval&&clearInterval(aa_interval);var t=null;void 0!==arguments[2]&&(t=arguments[2]);var o,r,i,n,l,s=a,d=Date.now(),c=$(e);s<=0?(s=0,"function"==typeof t&&t(t)):aa_interval=setInterval(function(){o=s-((Date.now()-d)/1e3|0),l=l=o/86400|0,n=n=o/3600%24|0,r=r=o/60%60|0,i=i=o%60|0,c.text((0<l?l+" д. ":"")+(0<n?n+" ч. ":"")+r+" м. "+i+" с."),o<=0&&(clearInterval(aa_interval),s=0,"function"==typeof t&&t(t))},1e3)}function showContent(a){var e=$(".kr-all-content").outerHeight();$(a).hide(),$(".kr-all-content--hidden").css("height",e)}function setVideo(){$(".player.kr-play-icon").on("click",function(){$(this).hasClass("kr-play-icon")&&($(this).removeClass("kr-play-icon"),window[$(this).attr("id")].Play($(this).attr("data-url")))})}function i_showBookTooltip(a){iu.tooltip(a,"<div class='tooltip'>Выберите для данного материала учебник из нашей базы учебников. Это значительно повысит качество отображения Вашего материала на сайте.</div>",{position:"top"})}function numerize(a,e){var t=2,o=a%100;if(o<10||20<o){var r=a%10;1==r?t=0:0<r&&r<5&&(t=1)}return e[t]?e[t].replace(/{n}/,a):a}function saveScrollPosition(){try{sessionStorage.scrollPosition=$(window).scrollTop()}catch(a){}}function restoreScrollPosition(){try{sessionStorage.scrollPosition&&($(window).scrollTop(sessionStorage.scrollPosition||0),sessionStorage.scrollPosition=0)}catch(a){}}function visitorCounter(a){if(a){var e,t,o,r,i,n,l,s=a[0],d=a[1],c=a[2];if(d!==c)iu.ivcInterval||(iu.ivcInterval=0),e=d.cnt,t=c.cnt,o=d.ts,r=c.ts-d.ts,i=s-d.ts,n=p(o,10,r,t-e),l=i||0,clearInterval(iu.ivcInterval),iu.ivcInterval=setInterval(v,1e3),v();else f(d)}function u(o,r,a){return Array.apply(null,{length:a}).map(function(a,e){return t=(t=0)|e+o,t-=t<<6,t^=t>>>17,t-=t<<9,t^=t<<4,t-=t<<3,t^=t<<10,t^=t>>>15,Math.abs(t)%r;var t})}function p(a,e,t,o){var r=u(a,e,t);if(!r.length)return[];var i,n=r.reduce(function(a,e){return a+e});return r.map((i=0,function(a){return Math.floor(i+=a/n*o)}))}function f(a){for(var e=[];0<a;)e.push(a%10),a=Math.floor(a/10);e=e||[0];for(var t=$(".v-counter-numb"),o=0;o<e.length&&void 0!==e[o];++o){var r=t.children().eq(-o-1);r&&r.length?Number(r.text())!==e[o]&&r.text(e[o]):(r=$("<span>").text(e[o]),o%3==0&&0<o&&r.addClass("v-counter-numb-dot"),t.prepend(r))}}function v(){f(e+n[l++]),l>=n.length&&h()}function h(){clearInterval(iu.ivcInterval)}}function toggleNext(a){return $(a).toggleClass("open").next().stop(!0,!0).slideToggle(),!1}function copyContentToClipBoard(a){var e=$("<input>").val(a).appendTo(document.body).select(),t=document.execCommand("Copy");e.remove(),t?iu.popup("Скопировано: <br/>"+a):iu.popup("Не удалось скопировать")}function modalImg(a,e,t){var o=$(a).find("img").addBack("img");o&&iu.dlg.show($("<div>").css({position:"relative",padding:"16px"}).append('<a style="position:absolute;top:5px;right:5px;" class="kr-modal-close" onclick="iu.dlg.hide();" title="Закрыть"> <i class="icon icon-close"></i> </a>',"<img src="+(e||o.attr("src"))+">"),t||void 0)}function SetCourseInfoStat(a,e){iu.ajax(null,"/ajax/setCourseInfoStat",{click:1,type:a,is_return:Boolean(e)})}function getTimeRemaining(a){a<0&&(a=0);var e=Math.floor(a%60),t=Math.floor(a/60%60),o=Math.floor(a/3600%24);return{total:a,days:Math.floor(a/86400),hours:o,minutes:t,seconds:e}}function showViewPortImg(){var e=$(window).height()+$(window).scrollTop();$(".dg-lazy-load").each(function(){var a=$(this).attr("data-src");e>=$(this).offset().top&&$(this).attr("src",a).removeClass("dg-lazy-load").addClass("dg-lazy-loaded")})}function lazy(){var e=$(window).height()+$(window).scrollTop();$(".dg-lazy-load").each(function(){var a=$(this).attr("data-src");e>=$(this).offset().top&&$(this).attr("src",a).removeClass("dg-lazy-load").addClass("dg-lazy-loaded")})}function addCashBackProPlugin(t,o){var r,i=window.screenTop+10,n=window.screenLeft;chrome.runtime.sendMessage("iohpbnkbolbaomhmanomekhmeabejibp","version",function(a){if(void 0!==a&&void 0!==a.type&&"success"===a.type)return iu.ajax(null,"/site/documentDownload",{id:t,x:!0}),!0;r=window.open("https://chrome.google.com/webstore/detail/cashback-pro/dhlfambenpcadipgldcfbnbgfjepmcel","CashBackPro","top="+i+",left="+n+",width=600,height=240"),$("div.v-library-commment").append(o),document.cookie="extension_referrer="+window.location.href+"; "+document.cookie;var e=setInterval(function(){r.closed&&(clearInterval(e),$("#cash-back-pro-plugin-link").remove(),iu.ajax(null,"/site/documentDownload",{id:t,x:!0}))},500)})}function addInfourokPlugin(a,e){var t,o=window.screenTop+40,r=window.screenLeft;t=window.open("https://chrome.google.com/webstore/detail/%D0%B8%D0%BD%D1%84%D0%BE%D1%83%D1%80%D0%BE%D0%BA/nodbelcjcbpmaoainddnnabbljbffmec","Infourok","top="+o+",left="+r+",width=600,height=240"),$("div.v-library-commment").append(e),document.cookie="extension_referrer="+window.location.href+"; "+document.cookie;var i=setInterval(function(){t.closed&&(clearInterval(i),$("#cash-back-pro-plugin-link").remove(),iu.ajax(null,"/site/documentDownload",{id:a,x:!0}))},500)}function closeAdsForGuest(a,e){if(a&&e){var t=e+"-"+a,o=document.querySelectorAll("[data-banner-position="+t+"]"),r=new Date;r.setDate(r.getDate()+1);var i=r.toUTCString();o[0].style.display="none",document.cookie="hideBanner"+t+"=true;expires="+i+";"}}function closeAdsForLoginUser(a,e){if(a&&e){var t=e+"-"+a;document.querySelectorAll("[data-banner-position="+t+"]")[0].style.display="none",iu.ajax(null,"/ajax/hideBannerForLoginUser",{bannerId:a,bannerPosition:e})}}function goToTheLesson(a){iu.ajax(null,"/classroom/GetClassroomLink",{id:a},void 0,void 0,"_blank"),iu.ajax(null,"/onlineLessonButtonLog/buttonWasClicked?type=3")}function setCookieLessonWasClosed(a){var e=new Date,t=e.getTime()+36e5;e.setTime(t),document.cookie="lesson-"+a+"="+a+"; expires="+e.toGMTString()+";path=/"}function lessonPopupWasClosed(a){return-1!==document.cookie.indexOf("lesson-"+a+"=")}function closeLessonStartedPopup(a){var e=document.getElementById("lesson-started-"+a);e&&e.remove(),setCookieLessonWasClosed(a)}function returnLessonStartedTemplate(a,e,t,o){var r="";return o&&(r='<a class="possibility__close" onclick="closeLessonStartedPopup('+a+')"><img src="https://fs22.infourok.ru/file/00ac-00008963-7491bfbc.svg" alt="Закрыть"></a>'),'<div id="lesson-started-'+a+'" class="possibility__item possibility__item--active"><div class="possibility__top">'+r+'                        <p class="possibility__title">Сейчас идет занятие</p>                        <p class="possibility__online">                            <img src="https://fs22.infourok.ru/file/136b-0000889a-00ef62f3.svg" alt="">                            <span>Онлайн</span>                        </p>                    </div>                    <div class="possibility__block">                        <div class="possibility__icon">                            <img src="https://fs22.infourok.ru/file/136f-0000889e-7a2f4103.svg"                                 alt="">                        </div>                        <div class="possibility__info">                            <p class="possibility__subject">'+e+'</p>                            <div class="possibility__teacher">                                <div class="possibility__avatar">                                    <img src="https://fs22.infourok.ru/file/136c-0000889b-ce423697.svg"                                         alt="Учитель">                                </div>                                <div class="possibility__teacher-info">                                    <p> <span>'+t+'</span></p>                                </div>                            </div>                            <button class="possibility__connect"                                    onclick="goToTheLesson('+a+')">                                Присоединиться                            </button>                        </div>                    </div></div>'}function showLessonPopup(a,e,t){var o=returnLessonStartedTemplate(a,e,t,!0),r=document.getElementById("d-ask-msg-popup");r&&r.insertAdjacentHTML("beforeend",o)}function showStartLessonPopup(a,e,t){"function"!=typeof handleLessonStarted&&(lessonPopupWasClosed(a)||showLessonPopup(a,e,t))}$(document).ready(function(){var t=$(".i-menu").css({top:0,transition:"none"}),o=$(".header"),r=parseInt(o.css("margin-bottom"),10)||0;function a(){if($(window).width()<992)return t.removeClass("v-menu-bg-scroll").stop(!0,!0).css({position:"",top:0}),void o.css({paddingBottom:0});var a=$(window).scrollTop();if(o.height()+r<a){var e=t.height();o.css({paddingBottom:e}),t.hasClass("v-menu-bg-scroll")||t.addClass("v-menu-bg-scroll").css({top:-e}).stop(!0).animate({top:0}),t.addClass("v-menu-bg-scroll").css({position:"fixed"})}else t.removeClass("v-menu-bg-scroll").stop(!0,!0).css({position:"",top:0}),o.css({paddingBottom:0})}a(),$(window).scroll(a).resize(a)}),$(document).ready(function(){$.each($(".to-align"),function(a,e){var t=$(e).find("img");function o(){if(t.filter(function(){return this.complete}).length===t.length&&($(e).find(".to-align-block").css("height",""),!($(window).width()<480))){var a=e.offsetHeight;a-=10,$(e).find(".to-align-block").css("height",a)}}t.on("load",o),o(),$(window).resize(o)})}),$(document).ready(function(){var t={russia:{name:"Россия",participant:1301013},ukraine:{name:"Украина",participant:11388},kazakhstan:{name:"Казахстан",participant:8937},kyrgyzstan:{name:"Киргизия",participant:2891},belarus:{name:"Беларусь",participant:2491},moldova:{name:"Молдова",participant:1180},kndr:{name:"КНДР",participant:100},turkmenistan:{name:"Туркменистан",participant:81},tajikistan:{name:"Таджикистан",participant:35},denmark:{name:"Дания",participant:32},mongolia:{name:"Монголия",participant:23},latvia:{name:"Латвия",participant:22},uzbekistan:{name:"Узбекистан",participant:15},czech:{name:"Чехия",participant:14},greece:{name:"Греция",participant:11},hungary:{name:"Венгрия",participant:9},mozambique:{name:"Мозамбик",participant:9},israel:{name:"Израиль",participant:4},turkie:{name:"Турция",participant:2}},o={one:{count:13e5,color:"#3A7103"},two:{count:12e3,color:"#87BF2D"},three:{count:100,color:"#BED94F"},four:{count:20,color:"#ddff51"}},r={one:{count:13e5,color:"#0193CB"},two:{count:12e3,color:"#EC8C69"},three:{count:100,color:"#FFB35B"},four:{count:20,color:"#FEDD81"}};function i(t,a,o){var r=t[o.id].participant,i=$(o).find("path");$(a).each(function(a,e){r>=e.one.count?i.css("fill",e.one.color):r<=e.two.count&&t[o.id].participant>e.three.count?i.css("fill",e.two.color):r<=e.three.count&&t[o.id].participant>=e.four.count?i.css("fill",e.three.color):i.css("fill",e.four.color)})}$(".map > g").each(function(a,e){e.id&&i(t,o,e)}),$(".map-winter > g").each(function(a,e){e.id&&i(t,r,e)});var n=$(".olymp-s24-map__description, .olymp-s26-map__description, .olymp-s27-map__description");$(".country").hover(function(){n.addClass("active"),n.html(t[$(this).attr("id")].name+"<br> Участий: "+t[$(this).attr("id")].participant)},function(){n.removeClass("active")}),$(".olymp-s24-map__block, .olymp-s26-map__block, .olymp-s27-map__block").on("mousemove",function(a){var e=$(".st-header__bg").outerHeight()+$(".i-menu").outerHeight()+$(".dg-sys-msg__wrapper").outerHeight()+75;n.css({left:a.pageX,top:a.pageY-e})});var a=!1;$(window).scroll(function(){a||($("#mountain").length&&$(window).scrollTop()+$(window).height()>$("#mountain").height()+$("#mountain").offset().top&&($("#lineAnimate")[0].beginElement(),a=!0),$(".s25-information").length&&($(window).scrollTop()+$(window).height()>$(".s25-information").height()+$(".s25-information").offset().top+100?$(".s25-information").addClass("active"):$(".s25-information").removeClass("active")),$(".s25-fixed-form").length&&($(window).scrollTop()+$(window).height()>$(".s25-information").height()+$(".s25-information").offset().top?$(".s25-fixed-form").addClass("active"):$(".s25-fixed-form").removeClass("active")),$(".s25-car").length&&$(window).scrollTop()+$(window).height()>$(".s25-car").height()+$(".s25-car").offset().top&&$(".s25-car").addClass("active"))}),$(".s25-second").mousemove(function(a){var e=$(".s25-advantages__earth div"),t=e.offset().left+e.width()/2,o=e.offset().top+e.height()/2,r=Math.atan2(a.pageX-t,a.pageY-o)*(180/Math.PI)*-1+180;e.css({transform:"rotate("+r+"deg)"})}),$(".switch .button").click(function(){$(".switch .button").addClass("inactive"),$(this).removeClass("inactive"),$(this).hasClass("on")?$(".s25-economy").addClass("active"):$(".s25-economy").removeClass("active")});1500<$(window).width()&&$(window).scroll(function(){var a=-parseInt($(this).scrollTop()/2),e=-parseInt($(this).scrollTop()/5);$(".olymp-s24-rocket__img, .olymp-s26-rocket__img, .olymp-s27-rocket__img").css({transform:"translateY("+(3500+a)+"px)"}),$(".olymp-s24-rocket__img-cloud").css({transform:"translateY("+(2100+e)+"px)"})}),$(".basic").on({mouseenter:function(){$(".olymp-s24-free__basic-plus, .olymp-s26-free__basic-plus").addClass("active")},mouseleave:function(){$(".olymp-s24-free__basic-plus, .olymp-s26-free__basic-plus").removeClass("active")}}),$(".hight").on({mouseenter:function(){$(".olymp-s24-free__hight-plus, .olymp-s26-free__hight-plus").addClass("active")},mouseleave:function(){$(".olymp-s24-free__hight-plus, .olymp-s26-free__hight-plus").removeClass("active")}})}),$(function(){var a=$(".kr-header__menu"),e=a.parent(),t=a.closest(".container");function o(){$(window).width()<992?a.appendTo(t):(a.appendTo(e),a.show(),$(".a-admin.kr-sidebar-menu").show(),$("#aa-header").find(".i-menu-list").css({display:""}))}o(),$(window).resize(o)}),$(function(){$(".select-category").attr("size",parseInt($(".select-category option").length))}),$(function(){restoreScrollPosition()}),$(function(){var e=".i-header-search",t=$(e),a=$(".i-header-search"),o=$(".i-header-search-input"),r=o.parent();t.data("init")||(t.data("init",!0),a.click(function(a){if(!t.hasClass("open"))return a.preventDefault(),void t.addClass("open");o.val().trim()||(a.preventDefault(),$(a.target).closest(r).length||t.removeClass("open"))}),$(document).click(function(a){$(a.target).closest(e).length||t.removeClass("open")}))});